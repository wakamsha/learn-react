commit-msg:
  jobs:
    - name: commitlint
      run: pnpm commitlint --edit "$1"

pre-commit:
  parallel: true
  jobs:
    - name: spellcheck
      glob: '*.{js,cjs,ts,tsx,md}'
      run: pnpm cspell {staged_files}

    - name: prettier
      glob: '*.{js,cjs,ts,tsx,md,json,css,html,yml,yaml}'
      run: pnpm prettier -c {staged_files}

  commands:
    builder:
      root: packages/builder
      glob: '*.{js,ts}'
      run: pnpm lint:oxc {staged_files} && pnpm lint:es {staged_files}
    core:
      root: packages/core
      glob: '*.{js,ts,tsx}'
      run: pnpm lint:oxc {staged_files} && pnpm lint:es {staged_files} && pnpm lint:style {staged_files}
    icon:
      root: packages/icon
      glob: '*.{js,ts,tsx}'
      run: pnpm lint:oxc {staged_files} && pnpm lint:es {staged_files}
    try:
      root: packages/try
      glob: '*.{js,ts,tsx}'
      run: pnpm lint:oxc {staged_files} && pnpm lint:es {staged_files} && pnpm lint:style {staged_files}
